Давайте поговорим об инструменте, который называется node.js.

1. node.js - это программная платформа, которая исполняет код, написанный на языке JavaScript. Большинство инструментов БЭМ написано на js, поэтому для их использования нужно установить node.js на свой компьютер.

2. Давайте сделаем это. Перейдем на сайт https://nodejs.org и скачаем установочный пакет (ссылка на него есть прямо на главной странице). Обратите внимание, тут две ссылки: на самую новую версию node и на стабильную (её мы и будем использовать). 

Скачиваем, запускаем и устанавливаем. После того, как установка завершена, давайте перейдем в терминал и выполним команду `node -v`. Если всё сделано правильно, выведется номер версии node, установленной на компьютере.

3. По сути, node.js - это консольное приложение, которому вы можете дать свою программу на JavaScript и оно её выполнит. Давайте попробуем это сделать.

Я переключаюсь в VS Code, создаю файл, например, index.js, и добавляю в него команду, которая выводит в консоль некоторый текст. 

```
console.log('Hello!');
```

Сохраняю... Возвращаюсь обратно в терминал и выполняю команду `node`, указав в качестве параметра файл JavaScript, который нужно выполнить
```
node index.js
```

Как видите, node.js выполнил нашу программу и нужный текст вывелся в консоль.

4. Приложения на js могут быть достаточно большими и их код, как правило, находится не в одном файле, а разбит на отдельные модули. В node.js есть способ подключить в свой модуль код из другого модуля - это функция `require`.

Давайте попробуем разделить нашу программу на два модуля.
Я снова переключаюсь в VS Code и создаю файл hello.js... и переношу туда нашу команду `console.log` из index.js. 
Чтобы подключить в index.js созданный нами модуль, используем функцию require('./hello.js')

```
// hello.js
console.log('Hello!');

// index.js
require('./hello.js')

console.log('Bye!');
```

Запускаем, видим, что текст по-прежнему выводится, хотя код расположен в другом файле.

*до этого места - детальный текст, далее - краткий план*

5. Вызов функции `require` похож на подключение js файлов на html страницу с помощью тэга `<script>`.

```
<script src="file1.js"></script>
<script src="file2.js"></script>
...
```

Но есть одно важное отличие. Файлы, подключенные через `<script>` выполняются в глобальном контексте. Как будто вместо тэга `<script>` на странице записано их содержимое. 

Т.е. код, который вы видите на экране ...?????????????????

```
<script>

// содержимое file1.js 
...

// содержимое file2.js 
...

</script>
```

Файлы, подключенные через функцию `require` выполняются каждый в своем контексте. Это значит, что в каждом модуле будет своя область видимости переменных, недоступная для других модулей. Например, если мы внутри файла `hello.js` объявим переменную, то в файле `index.js` она будет недоступна.

А что делать, если из подключаемого модуля нужно передать какое-то значение наружу? Очень просто - нужно присвоить это значение в специальную переменную `module.exports`. Оно будет передано в родительский модуль как результат функции `require`.

Давайте поменяем наш пример. 

```
// hello.js
console.log('Hello!');
```
Раньше у нас выводилось в консоль слово `'Hello'`. Давайте теперь будем здороваться с человеком по имени. Для этого напишем функцию, которая принимает параметр `name` и выводит в консоль `Hello` name.
↓ 
```
// hello.js
function(name) {
  console.log('Hello ' + name);    
};
```
↓ Для того, чтобы можно было вызвать эту функцию снаружи, мы присвоим ее в `module.exports`.
```
// hello.js
module.exports = function(name) {
  console.log('Hello ' + name);    
};
```
↓ Всё! Теперь в файле `index.js` мы можем сохранить результат выполнения функции `require` в переменную и в неё будет присвоено содержимое `module.exports` из файла `hello.js`, т.е. наша функция. 
```
// index.js
var sayHello = require('./hello.js');

console.log('Bye!');
```
↓  Теперь мы можем вызвать ее с нужным параметром, например, `'Петя'` и в консоль будет вывдено `Hello Петя`.
```
// index.js
var sayHello = require('./hello.js');

sayHello('Петя');

console.log('Bye!');
```

5. 
Мы посмотрели как подключить модуль, написанный нами и расположенный в соседнем файле. Но вы также можете использовать готовые модули, написанные другими.

Во-первых, большое количество готовых модулей встроены в node.js. Это модули для работы с файловой системой, для работы с сетью и другие. Они подключаются точно также, через функцию `require`, но вместо пути к файлу нужно указать название модуля.

Например, модуль для работы с файловой системой называется `fs`:

```
var fs = require('fs');
var content = fs.readFileSync('file.txt');
```

Кроме того, вы можете устанавливать модули из NPM. NPM - это встроенный в node менеджер пакетов, в котором доступно огромное количество модулей от сторонних разработчиков.

Чтобы модуль из менеджера пакетов стал доступен в вашем проекте, его нужно установить. Для этого в корневой папке проекта запустите команду `npm install` и укажите имя нужного модуля.

Например, давайте установим в наш проект библиотеку lodash, которая тоже доступна в NPM:

```
npm install lodash
```

Установленные модули можно подключать по имени так же как и встроенные модули node.js.

```
var _ = require('lodash');
var name = _.camelCase('This is a test');
```

При этом в папке проекта автоматически создастся папка `node_modules` с установленным модулем.

6. package.json: 
- хранит информацию о проекте, в т.ч. список нужных ему модулей
- можно создать в редакторе, но проще npm init
- ключ `npm i <name> -S` добавляет установенный пакет в список
- установка всех зависимостей одной командой: npm i

7. заключение: поговорили про node: установка, запуск, модули, npm. Подробнее в [скринкасте](https://learn.javascript.ru/screencast/nodejs) про node.
   дальше поговорим, как добавить БЭМ в свой проект
